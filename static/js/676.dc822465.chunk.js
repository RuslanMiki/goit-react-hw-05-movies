"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[676],{9198:function(t,e,n){n.d(e,{W:function(){return c}});var r=n(184),c=function(t){var e=t.children;return(0,r.jsx)("div",{children:e})}},2845:function(t,e,n){n.d(e,{a:function(){return a},Z:function(){return i}});var r=n(1087),c={},o=n(184),a=function(t){var e=t.movies,n=t.prevLocation;return(0,o.jsx)("div",{children:(0,o.jsx)("ul",{className:c.galleryList,children:e?e.map((function(t){var e=t.id,a=t.title;return(0,o.jsx)("li",{className:c.galleryList_item,children:(0,o.jsx)(r.rU,{to:"/movies/".concat(e),state:{from:n},children:a})},e)})):null})})},i=a},2676:function(t,e,n){n.r(e),n.d(e,{default:function(){return m}});var r=n(3433),c=n(9439),o=n(2791),a=n(1087),i=n(7689),u=n(7596),s=n(9198),f=n(2639),l=n(184),h=function(t){var e=t.onSearch,n=(0,o.useState)(""),r=(0,c.Z)(n,2),a=r[0],i=r[1];return(0,l.jsx)("header",{children:(0,l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==a.trim()?(e(a),i("")):alert("Search field is empty!")},children:[(0,l.jsx)("input",{type:"text",name:"searchRequest",value:a,onChange:function(t){i(t.currentTarget.value.toLowerCase())},autoComplete:"off",autoFocus:!0}),(0,l.jsx)("button",{type:"submit",children:"Search"})]})})},d=n(2845),v=n(8898);function m(){var t=(0,a.lr)(),e=(0,c.Z)(t,2),n=e[0],m=e[1],p=(0,o.useState)([]),g=(0,c.Z)(p,2),y=g[0],_=g[1],x=(0,o.useState)(null),j=(0,c.Z)(x,2),S=j[0],k=j[1],w=(0,o.useState)(!1),Z=(0,c.Z)(w,2),L=Z[0],A=Z[1],b=n.get("query"),E=(0,i.TH)();(0,o.useEffect)((function(){if(b){""!==b&&function(t){A(!0);try{(0,v.oi)(t).then((function(t){if(t.data.results.length){var e=t.data.results.map((function(t){return{id:t.id,title:t.title}}));_((0,r.Z)(e))}else alert("There is no movies found with that search request")}))}catch(S){k(S)}finally{A(!1)}}(b)}}),[b]);return(0,l.jsxs)(s.W,{children:[(0,l.jsx)(h,{onSearch:function(t){m({query:"".concat(t)})}}),S&&u.Am.error("Whoops, something went wrong: ".concat(S.message)),L&&(0,l.jsx)(f.Z,{}),y.length>0&&(0,l.jsx)(d.Z,{movies:y,prevLocation:E})]})}},8898:function(t,e,n){n.d(e,{y:function(){return l},vw:function(){return u},BG:function(){return f},oi:function(){return s},Bt:function(){return h}});var r=n(1912),c=function(t){return r.Z.get(t)},o={BASE_URL:"https://api.themoviedb.org/3",API_KEY:"4d0f1a70283628d770bc4f97516afca6",DEFAULT_LANGUAGE:"en-US"},a=o.BASE_URL,i=o.API_KEY,u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return c("".concat(a,"/trending/movie/day?api_key=").concat(i,"&page=").concat(t))},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return c("".concat(a,"/search/movie?api_key=").concat(i,"&page=").concat(e,"&query=").concat(t))},f=function(t){return c("".concat(a,"/movie/").concat(t,"?api_key=").concat(i))},l=function(t){return c("".concat(a,"/movie/").concat(t,"/credits?api_key=").concat(i))},h=function(t){return c("".concat(a,"/movie/").concat(t,"/reviews?api_key=").concat(i))}}}]);
//# sourceMappingURL=676.dc822465.chunk.js.map